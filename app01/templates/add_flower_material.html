{% extends 'base.html' %}

{% block title %}添加花材 - SummerFlora{% endblock %}

{% block extra_styles %}
<style>
  .main {
    height: 100vh; /* 确保 main 元素占满视口高度 */
    display: flex;
    flex-direction: column;
  }

  .section {
    flex: 1; /* 确保 section 元素填满 main 元素 */
  }
</style>
{% endblock %}

{% block content %}
<main id="main" class="main">

  <section class="section">
    <div class="row">
      <div class="col-lg-12">

        <div class="card custom-width">
          <div class="card-body">
            <h5 class="card-title">添加花材</h5>

            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
              {{ message }}
            </div>
            {% endfor %}
            {% endif %}

            <form method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="category" class="form-label">分类</label>
                  <select id="category" name="category" class="form-select">
                    <option value="">选择分类</option>
                    {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                  </select>
                </div>

                <div class="mb-3 col-md-6">
                  <label for="model" class="form-label">型号</label>
                  <input type="text" id="model" name="model" class="form-control" required>
                  {% if form.model.errors %}
                  <div class="invalid-feedback">
                    {{ form.model.errors }}
                  </div>
                  {% endif %}
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="image" class="form-label">图片</label>
                  <input type="file" id="image" name="image" class="form-control" required>
                  {% if form.image.errors %}
                  <div class="invalid-feedback">
                    {{ form.image.errors }}
                  </div>
                  {% endif %}
                </div>

                <div class="mb-3 col-md-6">
                  <label for="chinese_name" class="form-label">中文品名</label>
                  <input type="text" id="chinese_name" name="chinese_name" class="form-control">
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="english_name" class="form-label">英文品名</label>
                  <input type="text" id="english_name" name="english_name" class="form-control">
                </div>

                <div class="mb-3 col-md-6">
                  <label for="scientific_name" class="form-label">学名</label>
                  <input type="text" id="scientific_name" name="scientific_name" class="form-control">
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="color" class="form-label">颜色</label>
                  <select id="color" name="color" class="form-select">
                    <option value="">选择颜色</option>
                    {% for color in colors %}
                    <option value="{{ color.id }}">{{ color.name }}</option>
                    {% endfor %}
                  </select>
                </div>

                <div class="mb-3 col-md-6">
                  <label for="size" class="form-label">尺寸 (cm)</label>
                  <input type="number" step="0.01" id="size" name="size" class="form-control">
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="weight" class="form-label">重量 (g)</label>
                  <input type="number" step="0.01" id="weight" name="weight" class="form-control">
                </div>

                <div class="mb-3 col-md-3">
                  <label for="sale_spec_quantity" class="form-label">销售规格数量</label>
                  <input type="number" step="0.01" id="sale_spec_quantity" name="sale_spec_quantity" class="form-control">
                </div>

                <div class="mb-3 col-md-3">
                  <label for="sale_spec_unit" class="form-label">销售规格单位</label>
                  <select id="sale_spec_unit" name="sale_spec_unit" class="form-select">
                    <option value="">选择单位</option>
                    <option value="pcs">pcs</option>
                    <option value="g">g</option>
                    <option value="box">box</option>
                    <option value="kg">kg</option>
                  </select>
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="process" class="form-label">工艺</label>
                  <select id="process" name="process" class="form-select">
                    <option value="">选择工艺</option>
                    {% for process in processes %}
                    <option value="{{ process.id }}">{{ process.name }}</option>
                    {% endfor %}
                  </select>
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-4">
                  <label for="outer_box_length" class="form-label">外箱长度 (cm)</label>
                  <input type="number" step="0.01" id="outer_box_length" name="outer_box_length" class="form-control">
                </div>

                <div class="mb-3 col-md-4">
                  <label for="outer_box_width" class="form-label">外箱宽度 (cm)</label>
                  <input type="number" step="0.01" id="outer_box_width" name="outer_box_width" class="form-control">
                </div>

                <div class="mb-3 col-md-4">
                  <label for="outer_box_height" class="form-label">外箱高度 (cm)</label>
                  <input type="number" step="0.01" id="outer_box_height" name="outer_box_height" class="form-control">
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="packing_quantity" class="form-label">装箱数量</label>
                  <input type="number" id="packing_quantity" name="packing_quantity" class="form-control">
                </div>

                <div class="mb-3 col-md-6">
                  <label for="grade" class="form-label">等级</label>
                  <select id="grade" name="grade" class="form-select">
                    <option value="">选择等级</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                  </select>
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="supplier" class="form-label">供应商</label>
                  <select id="supplier" name="supplier" class="form-select">
                    <option value="">选择供应商</option>
                    {% for supplier in suppliers %}
                    <option value="{{ supplier.id }}">{{ supplier.name }}</option>
                    {% endfor %}
                  </select>
                </div>

                <div class="mb-3 col-md-3">
                  <label for="price_one" class="form-label">价格一</label>
                  <input type="number" step="0.01" id="price_one" name="price_one" class="form-control">
                </div>

                <div class="mb-3 col-md-3">
                  <label for="price_two" class="form-label">价格二</label>
                  <input type="number" step="0.01" id="price_two" name="price_two" class="form-control">
                </div>
              </div>

              <div class="row">
                <div class="mb-3 col-md-6">
                  <label for="stock" class="form-label">库存</label>
                  <input type="number" id="stock" name="stock" class="form-control">
                </div>
              </div>

              <div class="mt-3">
                <button type="submit" class="btn btn-primary">提交</button>
              </div>
            </form>
          </div>
        </div>

      </div>
    </div>
  </section>

</main>
{% endblock %}
